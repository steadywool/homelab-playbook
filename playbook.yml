---
- hosts: all
  gather_facts: yes

  tasks:
    - name: Install packages
      ansible.builtin.package:
        name: {{ packages }}
        state: present
      become: false

    - name: Create Podman directory
      ansible.builtin.file:
        path: "{{ podman_data }}"
        state: directory
      become: false

    - name: Run network containers
      ansible.builtin.import_role:
        name: network
      tags: network

    - name: Run medias containers
      ansible.builtin.import_role:
        name: medias
      tags: medias

    - name: Run games containers
      ansible.builtin.import_role:
        name: games
      tags: games